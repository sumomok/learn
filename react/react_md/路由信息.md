# 路由信息

Router 组件会创建一个上下文，并且，向上香文中注入一些信息

该上下文对开发者是隐藏的
Route组件若匹配到了地址，则会将这些上下文中的信息作为属性传入对应的组件中


## history

他并不是window.history对象，我们利用该对象无刷新跳转地址

**为什么没有直接使用history对象**
1. React-Router中有两种模式：hash、history，如果直接使用window.history，只能支持一种模式 切换模式的时候需要大改
2. 当时用windows.history.pushState方法时，没有办法收到任何通知，将导致React无法感知地址发生变化，导致无法重渲染组件

- push：将某个新的地址入栈（历史记录栈）
    1. 参数1：新的地址（不能写绝对路径，只能写本地路径）
    2. 参数2：可选，附带的状态数据
- replace：将某个新的地址替换掉当前栈中的地址
- go
- forward
- back

## location

与history.location 完全一致，是同一个对象，但是，与window.location不同

location对象中记录了当前地址的相关信息

我们通常使用第三方库 ```query-string```


## match

保存了路由匹配的信息

- isExact：事实上 路由匹配是不是精确匹配（只要匹配结果是精确匹配，就为true）

实际上，在书写route组件的path属性时，可以书写一个```string patter```

react-router使用了第三方库 path-to-RegExp,该库的作用是，将字符串正则转换成一个真正的正则表达式

**向某个页面传递数据的方式**

1. 使用state：在push页面时，加入state
2. **利用search：把数据填写到地址栏中的？后面**
3. 利用hash：把数据填写到hash后
4. **利用match.params:把数据填写到路径中**

当路由指向一个组件，且该组件套用了其他组件，其他组件中props中没有路由信息，如果想获取到路由信息
解决办法
1. 由父组件传入子组件
2. 使用react-router提供的高阶组件withRouter，包装要是用的组件，该高阶组件会将路由信息传入要使用的子组件