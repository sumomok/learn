# Reaact Router 概述

React 路由

## 站点

无论是Vue还是React，开发的单页应用程序，可能只是该站点的一部分（某一个功能块）

一个单页应用里，可能会划分为多个页面（几乎完全不同的页面效果）（组件）

如果要在单页应用中完成组件的切换，需要实现下面两个功能

1. 根据不同的页面地址，展示不同的组件（核心）
2. 完成无双新的地址切换

我们把实现了以上两个功能的插件，称之为路由

# React Router

1.  react-router：路由核心库，包含诸多和路由功能相关的核心代码
2.  react-router-dom：利用路由核心库，结合实际的页面，实现跟页面路由密切相关的功能

如果是在页面中实现路由，需要安装react-router-dom库

## 两种模式

    路由：根据不同的页面地址，展示不同的组件
    url地址组成

1. 协议名（schema）：https
2. 主机名（host）：www.xxxx.com
    1. ip地址
    2. 预设值：localhost
    3. 域名
    4. 局域网中电脑名称
3. 端口号（port）
    1. 如果是http协议 80端口可省略
    2. 如果协议是https 443端口可省略
4. 路径（path）
5. 地址参数（search.query）
    1. 附带的数据
    2. 格式：?属性名=属性值&属性名=属性值
6. 哈希（hash，锚点）

### Hash Router 哈希路由

根据url地址中的哈希值来显示组件
原因： hash的变化，不会导致页面刷新
hash兼容性最好

### borswer  history router 浏览器历史记录路由

HTML5出现后，新增了history Api，从此以后，浏览器拥有了改变路径而不刷新页面的方式

History表示浏览器的历史记录，它使用栈的方式存储

1. history.length:获取栈中历史记录的条数
2. history.pushState
    参数
    1. 附加数据
    2. 改变页面的标题（未实现）
    3. 新的地址
3. history.replaceState:将栈的当前指针指向的记录，替换成某个记录
    参数
    1. 附加数据
    2. 改变页面的标题（未实现）
    3. 新的地址

# 路由组件

React-Router 为我们提供了两个重要组件

## Router 组件

它本身不做任何展示，仅提供路由模式配置，另外，该组件会产生一个上下文，上下文中会提供一些使用的对象和方法，供其他相关组件使用

1. HashRouter：该组件，使用hash模式匹配
2. browserRouter：该组件，使用history模式匹配

通常情况下只有一个Router包裹根组件，用来包裹整个页面

## Route组件

根据不同的地址，展示不同的组件

重要属性：

1. path：匹配的路径
    1. 默认情况下，不区分大小写，可以设置sensitive属性为true，来区分大小写
    2. 默认情况下，只匹配初始目录，如果要精确匹配，配置exact属性为true
    3. 如果不写path，则任何路径都能匹配到
2. component：要显示的组件
3. children：
    1. 传递react元素，无论是否匹配，一定会显示children，并且会忽略component属性
    2. 传递一个函数，该函数有多个参数，这些参数来自于上下文，该函数返回react元素，则一定会显示返回的元素，并且忽略component元素
## switch


写到switch组件中的route组件，当匹配到第一个route后，会立即停止匹配

由于switch组件会循环所有子元素，然后让每个子元素去完成匹配，若匹配到，则渲染对应的组件，然后挺尸循环，因此，不能再switch的子元素中使用出route外的其他组件