# 错误边界

默认情况下，若一个组件在渲染期间（render）发生错误，会导致整个组件数全部被卸载掉
错误边界：是一个组件，该组件会捕获到渲染期间（render）发生的错误，并有能力阻止错误继续传播


## 让某个组件捕获错误 （16版本以后）

1. 编写生命周期函数 getDerivedStateFromError
    1. 静态函数
    2. 运行时间点：渲染子组件的过程中，发生错误之后，在更新页面之前
    3. 只有子组件发生错误的时候，才会出发这个函数
    4. 该函数返回一个对象，reaact会将该对象的属性覆盖掉当前组件的state
    5. 参数：错误对象
    6. 该函数用于改变状态 （返回一个对象，作用类似于setState）
2. 编写生命周期函数 componentDidCatch
    1. 实例方法
    2. 运行时间点，运行于渲染子组件的过程中，发生错误，更新页面之后，由于运行时间点偏后，因此通常不会在该函数中改变状态
    3. 通常该函数用于记录错误信息并上送到服务器

##  细节

某些情况下错误不会捕捉（他只会捕获在渲染（render）时的同步代码的错误）
1. 自身的错误
2. 异步错误也不会运行
3. 事件中的错误