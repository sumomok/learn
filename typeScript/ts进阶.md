# 深入理解类和接口
# 面向对象概述
面向对象：oriented（基于）object（对象）简称oo
是一种编程思维，他提出一切以类对切入点思考问题
 面向对象：
 面向过程：以功能流程为思考切入点，不太适用大型应用
 函数式编程：以数学运算为思考切入点（刚起步，最佳实践很少）

类：可以产生对象的模板 

# 抽象类

有时，某个类指标是一个首相概念，主要用于提取子类共有的成员，而不能直接创建它的对象。该类可以作为抽象类
给类前面加上 **abstract**,表示该类是一个抽象类，不可以创建一个抽象类的对象。

# 设计模式---模板模式

当某个方法中既有所有的类共同处理的代码，又有差异代码时（可以没有差异代码），就可以将方法实现放到抽象类中，实现公共的部分，差异的部分 定义一个抽象函数，由继承抽象类的子类去实现

# 静态成员

静态成员是指，附着在类上的成员（属于某个构造函数的成员）

使用static修饰的成员，是静态成员

实例成员：对象成员，属于某个类的对象
静态成员：非实例成员，属于某个类

## 静态方法中的this

实例方法中this指向的是**当前对象**

而静态方法中的this指向的是**当前类**

## 设计模式 - 单例模式

场景： 某些类的对象，在系统中最多只有一个，为了避免开发者造成随意创建多个类的对象，用静态方法来处理

# 索引器

场景：用于可以动态添加类的属性

索引器的索引必须是字符串或者数字，其他类型不可以

索引器在类中书写需要写到最前面


Ts中索引器的作用
- 在严格的检查下，可以实现为类动态增加成员
- 可以实现动态的操作类成员

在JS中，所有的成员名本质上，都是字符串，如果使用数字作为成员名，会自动转换为字符串。

在TS中，如果某个类中使用了两种类型的索引器，要求两种索引器的值的类型必须一致


# 装饰器

> 面向对象的概念（java:注解，C#：特征）,decorator
> angular 大量使用 ，react 中也会用到
> 目前js支持装饰器，目前处于建议征集的第二阶段

## 解决的问题

装饰器，分离关注点：

关注点：在定义一些属性，对该属性的描述

装饰器，能够带来额外的信息，可以达到分离关注点的目的
问题：
- 信息书写位置的问题
- 重复代码的问题

上述两个问题产生的根源：某些信息，在定义时，能够附加的信息量有限。

装饰器的作用：为某些属性、类、参数、方法提供元数据信息（metadata）

元数据：描述数据的数据

## 装饰器的本质

在TS（包括js）中装饰器是一个函数。（装饰器是要参与运行）

## 类装饰器

装饰器的本质是一个函数，该函数接受一个参数，为要验证的类本身（就是一个构造函数）

使用装饰器```@得到一个函数```

## 成员装饰器

- 属性

属性装饰器也是一个函数，该函数需要两个参数
1. 如果是静态属性，则为类本身；如果是实例属性，则为累的圆形；
2. 固定为一个字符串，表示属性名

- 方法
方法装饰器也是一个函数，该函数需要三个参数

1. 如果是静态方法，则为类本身；如果是实例方法，则为类圆形
2. 固定一个字符串，表示方法名
3. 属性描述对象

可以有多个装饰器

## reflect-metadata
    保存元数据到全局
## class-validator 和 class-transformer

class-validator 通过元数据进行数据验证

class-transformer 将一个平面对象给一个类进行赋值，通过元数据约束赋值时的类型